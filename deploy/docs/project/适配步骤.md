hardware sdk适配步骤



1.了解硬件SDK

需要获取硬件平台资料包含：


首先需要关注和了解：

转换模型，fp32方式

查看测试demo代码编写，尤其是推理前后

量化模型

前处理硬件加速





2.测试demo代码

编写测试demo，包含前后处理代码，跑通推理图片





3.适配SDK

编写对应的前后处理代码，包含：分类、检测、分割、姿态等

添加对应codec接口
添加对应的device接口
添加对应的pre、infer、post接口

在src/register/CMakeLists.txt中添加对应的编译开关，编译依赖的头文件库文件路径和库文件列表
在对应的devices/processor中的model和inference必须配置文件夹中新建对应的文件夹，实现对应的功能

4.编写转换docker

添加对应的install_xxx.sh
包含build和convert函数，分别是编译所需要的库和头文件，转换模型所需要的环境




5.测试和填写报告数据
编写对应的demo、test和sample代码
编写对应的benchmark测试代码
编写对应的doc说明


6.优化
量化，包括逐层量化
使用工具分析算子运行时间，找出不支持或优化不好算子
跑benchmark查看使用率是否高，比如nvidia的nv-system